# AetherGate TODO v1.1 (Pending Features)

> 说明：本清单仅保留目前尚未实现或被搁置的功能项，便于后续版本继续迭代。已完成内容已从 master 文档迁出，不再重复列出。

## 1. 特殊交互机制

1. **蠹虫 -> 末影螨转化**
   - 触发：蠹虫接触“末影珍珠块”方块时按 80% 概率立刻变为末影螨，20% 概率钻入并无视。
   - 附加：若未来重新启用方块实体，需要确保不会造成刷怪或掉落漏洞。

2. **紫颂果优先传送** *(已搁置)*
   - 需求：食用紫颂果时，优先寻找 32 格内“末影珍珠块”上方的安全位置，失败时再回落到原版逻辑。
   - 状态：由于 V1.2 要求暂时取消可放置的末影珍珠块实体，该行为暂时无法实现，需待方块重新上线后恢复。

## 2. 传送粒子与白屏演出

1. **Phase 1 白屏/SGA 粒子渐进**
   - 0-3 秒内按照设计稿分层提升粒子密度，确保玩家视野逐步被白色/浅蓝色的 SGA 字符覆盖，而非当前的简单 ENCHANT 环。
   - 需要控制粒子总量避免卡顿，可通过定制环、螺旋与高度分层来实现。

2. **Phase 2 离场冲击波**
   - 在传送瞬间，将所有累积粒子沿多层圆环/球壳爆炸式散开，突出“能量释放”效果。
   - 粒子类型需保持与 Phase 1 一致（白色 SGA 字符）。

3. **Phase 3 降临扫描与残留**
   - 目的地提前 0.5 秒生成“自上而下”扫描圈，随后在 3.0s-3.8s 期间按阶段递减 SGA 残留粒子，模拟“重组 -> 视野恢复”的流程。

## 3. 视觉/音效扩展

1. **白色粒子遮罩与性能评估**
   - 为 Phase 1/2/3 的粒子演出给出明确的 tick 级发射节奏、每层粒子数量上限，以及在多玩家同时传送时的性能策略。
   - 需要实测不同客户端的 FPS，必要时提供配置项以调整粒子密度。

2. **可选 ProtocolLib 特效** *(可选)*
   - 若未来需要更细粒度地控制玩家视野或自定义粒子，需要补充 ProtocolLib 方案说明（例如自定义包、白屏 Shader 同步等）。

## 4. 文档/实现同步

1. **结构演出一致性校对**
   - 依据《插件TODO_final.md》中对 Phase 1~3 的叙述，对现有实现逐条核对，补上遗漏的粒子、音效、击退细节。

2. **方块交互恢复策略**
   - 若后续版本重新允许放置末影珍珠块，需要提前准备好：
     - 放置/破坏/drops 逻辑；
     - PDC 标记方式；
     - 与蠹虫、紫颂果等交互的联动代码。

---

> **备注**
> - 列表中的“搁置”条目可在重新启用对应前置条件后再规划实现顺序。
> - 每一项建议在开始实现前重新审阅 master 文档，确保视觉与玩法保持一致。
