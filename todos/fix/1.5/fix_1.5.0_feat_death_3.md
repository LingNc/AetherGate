这是 Minecraft 原版爆炸机制的一个非常经典的“特性”（Feature），并不是你代码的逻辑错误，而是**爆炸原点（Source）被方块自身遮挡**导致的。

### 🕵️‍♂️ 现象深度解析

#### 1. 为什么“有时候伤害很小，有时候很大”？

Minecraft 的爆炸伤害计算是基于 **光线投射 (Ray Casting)** 的。

* **原理**：当 `world.createExplosion(loc, power)` 发生时，游戏会从爆炸中心点（`loc`）向周围发射多条“射线”。
* **计算**：它会计算“实体（玩家）有多大比例的体积”能直接被这些射线照射到（这叫做 **暴露度 Exposure**）。
* **问题所在**：你的代码中，爆炸中心点大概率是设在 **“世界锚点”方块的中心** (`x+0.5, y+0.5, z+0.5`) 或者 **脚下坐标**。
* **世界锚点（磁石）是一个实体方块**。
* 如果爆炸在方块**内部**产生，大部分射线会被这个方块本身吸收（Block Resistance）。
* 只有极少数射线能从方块边缘“漏”出来。



#### 2. 为什么“站在正上方不掉血”？

* 因为爆炸点在 `y`，你的脚在 `y+1`。
* 你和爆炸点之间，**完完整整地隔着一个磁石方块**。
* 对于游戏引擎来说，这就像你躲在墙后面一样，方块替你挡住了 99% 的伤害。

#### 3. 为什么“下蹲”和“站立”伤害不同？

* 下蹲会改变你的 **Hitbox（碰撞箱）** 高度和形状。
* 在边缘情况下（射线刚好处在能打中和打不中的边缘），碰撞箱微小的改变会导致计算出的“暴露度”从 0% 变成 50%，或者反之。这就导致了伤害的剧烈波动（也就是你说的“玄学”）。

---

### 🛠️ 解决方案

为了实现“献祭”这种必死或高伤的效果，同时保证爆炸的视觉冲击力，不能单纯依赖原版的“方块内爆炸”。

请将这个解决方案发给开发者，有 **两种** 修复路线：

#### 方案 A：先破后炸（推荐，保留物理效果）

在生成爆炸的**前一毫秒**，先把那个“世界锚点”方块设置成空气。这样爆炸产生时，中间没有遮挡物，射线可以直接打到周围玩家身上。

```java
// 在 AltarService.java 的 triggerBackfire 方法中

// 1. 获取中心方块
Block centerBlock = location.getBlock();

// 2. [关键步骤] 先把方块变成空气，消除遮挡！
centerBlock.setType(Material.AIR);
// 桶不要清除

// 3. 然后再生成爆炸
// 4.0F 是 TNT 的威力，true 表示会破坏周围方块（如果配置允许）
location.getWorld().createExplosion(location, 4.0F, true);

```

* **效果**：站在旁边必死，站在上面必飞。这是最“真实”的爆炸。
